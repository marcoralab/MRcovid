###	Calculating the weighted means of multiple samples
#Fomula: ((N1*M1) + (N2*M2)) / (N1 + N2)


## Huang et al 2017 
### Age
((14406*74.8) + (25849*79)) / 40255

### Gender
((14406*61.7) + (25849*59.6)) / 40255

## Deming et al 2017 
### Age
deming <- tibble(cohort = c('Knight', 'ADNI1', 'ADNI2', 'BIOCARD', 'HB', 'MAYO', 'SWEDEN', 'UPENN', 'UW'),
n = c(805, 390, 397, 184, 105, 433, 293, 164, 375), 
Age = c(70.39, 77.89, 73.28, 62.10, 67.52, 78.73, 75.15, 71.60, 62.35), 
Male = c(46.09, 60, 54.91, 41.53, 54.29, 60.51, 37.54, 41.46, 50.67), 
cases = c(29.34, 71, 71, 5.43, 0, 22.17, 100, 62.8, 33.33))

### Age
sum(deming$n * deming$Age) / sum(deming$n)

### Gender
sum(deming$n * deming$Male) / sum(deming$n)

### Gender
(sum(deming$n * deming$cases) / sum(deming$n))/100 * 3146

## Beecham et al 2014 
beecham <- tibble(cohort = c('ACT', 'ADC', 'OHSU', 'MAYO', 'MBB', 'NIA-LOAD', 'ROSMAP', 'TGEN2', 'UMVUMSS1', 'UMVUMSS2', 'UP'), 
	cases = c(63, 3201, 12, 221, 50, 424, 148, 668, 54, 21, 211), 
	controls = c(116, 141, 23, 209, 60, 45, 80, 353, 1, 1, 2), 
	case_females = c(68.3, 54.3, 66.7, 49.8, 76.0, 65.1, 66.9, 64.8, 70.4, 57.1, 57.3), 
	control_female = c(75.8, 48.2, 65.2, 37.8, 46.7, 64.4, 65.0, 48.2, 0, 0, 0), 
	aao = c(84.67, 72.86, 89.50, 73.63, 78.66, 74.13, 85.12, 74.88, 71.81, 71.67, 71.01), 
	aae = c(82.96, 82.45, 89.52, 71.64, 79.08, 86.67, 84.25, 79.81, 0, 0, 0), 
	NFT4 = c(272, 2484, 35, 437, 72, 277, 321, 581, 47, 17, 192), 
	case_NP = c(202, 2388, 19, 239, 59, 173, 205, 141, 0, 0, 0),
	control_NP = c(70, 98, 19, 198, 45, 34, 119, 37, 0, 0, 0),
	case_VBI = c(142, 756, 16, 0, 24, 0, 0, 0, 0, 0, 54),
	control_VBI = c(115, 1439, 14, 0, 106, 0, 0, 0, 0, 0, 98),
	case_HS = c(17, 201, 0, 0, 0, 0, 67, 0, 0, 0, 25), 
	control_HS = c(236, 1928, 0, 0, 0, 0, 255, 0, 0, 0, 157))
	
### Age
(sum(beecham$cases * beecham$aao) + sum(beecham$controls * beecham$aae)) / (sum(beecham$cases) + sum(beecham$controls))

### Gender
(sum(beecham$cases * beecham$case_females) + sum(beecham$controls * beecham$control_female)) / (sum(beecham$cases) + sum(beecham$controls))

## Hibar 2015 

hibar2015 <- tibble(cohort = c("AddNeuroMed", "ADNI", "ADNI2GO", "Betula", "BFS", "BIG", "BrainSCALE", "BRCDECC", "EPIGEN", "GIG", "GSP", "HUBIN", "IMAGEN", "MCIC", "MooDS", "MPIP", "NCNG", "NESDA", "neuroIMAGE", "NTR - Adults", "OATS", "PAFIP ", "QTIM", "SHIP", "SHIP-TREND", "Sydney MAS", "TOP", "UMCU"), 
n = c(357, 747, 362, 353, 220, 1300, 277, 169, 233, 299, 442, 200, 1765, 170, 311, 550, 327, 231, 154, 400, 364, 117, 845, 966, 858, 543, 849, 279), 
n_females = c(204, 302, 203, 185, 115, 747, 147, 105, 138, 179, 251, 70, 895, 58, 164, 318, 223, 153, 23, 238, 238, 45, 527, 507, 477, 297, 407, 73), 
age = c("74.4 (6.4)", "75.4 (6.9)", "72.8 (7.4)", "62.3 (13.3)", "24 (7.9)", "22.9 (3.8)", "10.0 (1.3)", "49.9 (8.6)", "38.5 (12.7)", "24.2 (2.4)", "21.4 (3.2)", "41.8 (8.1)", "14.6 (0.4)", "34.0 (11.2)", "33.4 (9.8)", "48.3 (13.3)", "51.8 (16.7)", "37.8 (10.1)", "17.0 (2.5)", "29.7 (10.7)", "70.5 (5.1)", "28.4 (8.1)", "22.5 (3.2)", "56.4 (12.6)", "50.0 (13.5)", "78.4 (4.7)", "34.0 (10.4)", "31.9 (11.7)")) %>% separate(age, c('age', 'se'), sep = " ") %>% mutate(age = as.numeric(age))

### Age
sum(hibar2015$n * hibar2015$age) / sum(hibar2015$n)
### Gender
sum(hibar2015$n_females) / sum(hibar2015$n)

## Hibar 2017

hibar2017 <- tibble(
cohort = c("AddNeuroMed", "ADNI", "ADNI2GO", "Betula", "BFS", "BIG", "BrainSCALE", "BRCDECC", "EPIGEN", "GIG", "GSP", "HUBIN", "IMAGEN", "LBC1936", "MCIC", "MooDS", "MPIP", "NCNG", "NESDA", "neuroIMAGE", "NTR - Adults", "OATS", "PAFIP ", "QTIM", "SHIP", "SHIP-TREND", "Sydney MAS", "TOP", "UMCU", "3C-Dijon", "AGES", "ARIC", "ASPS", "ASPSFam", "CHS", "ERF", "FHS", "GeneSTAR", "LLS", "PROSPER", "RSI", "RSII", "RSIII", "RSIx", "ROSMAP1", "ROSMAP2"), 
n = c(357,747,362,353,220,1300,277,169,233,299,442,200,1765,612,170,311,550,327,231,154,400,364,117,845,966,858,543,849,279,1403,2510,413,172,339,648,118,938,441,355,315,939,1077,2397,432,184,106), 
n_females = c(204,302,203,185,115,747,147,105,138,179,251,70,895,289,58,164,318,223,153,23,238,238,45,527,507,477,297,407,73,882,1506,253,120,205,398,60,534,237,187,150,544,569,1333,224,138,83),
age = c("74.4 (6.4)", "75.4 (6.9)", "72.8 (7.4)", "62.3 (13.3)", "24 (7.9)", "22.9 (3.8)", "10.0 (1.3)", "49.9 (8.6)", "38.5 (12.7)", "24.2 (2.4)", "21.4 (3.2)", "41.8 (8.1)", "14.6 (0.4)", "72.7 (0.7)", "34.0 (11.2)", "33.4 (9.8)", "48.3 (13.3)", "51.8 (16.7)", "37.8 (10.1)", "17.0 (2.5)", "29.7 (10.7)", "70.5 (5.1)", "28.4 (8.1)", "22.5 (3.2)", "56.4 (12.6)", "50.0 (13.5)", "78.4 (4.7)", "34.0 (10.4)", "31.9 (11.7)", "72.2 (4.1)", "75.95 (5.30)", "72.71 (4.33)", "69.8 (6.7)", "65.2 (10.5)", "78.89 (4.2)", "64.3 (4.5)", "58.47 (8.04)", "50.9 (10.6)", "65.54 (6.65)", "75.09 (3.21)", "78.9 (4.9)", "69.4 (6.0)", "57.0 (6.3)", "72.82 (7.90)", "83.19 (6.32)", "80.56 (6.88)")
) %>% separate(age, c('age', 'se'), sep = " ") %>% mutate(age = as.numeric(age))

### Age
sum(hibar2017$n * hibar2017$age) / sum(hibar2017$n)
### Gender
sum(hibar2017$n_females) / sum(hibar2017$n)

## Locke 2015 
locke2015 <- tibble(cohort = c("AGES", "Amish", "ARIC", "B58C (T1DGC)", "B58C (WTCCC)", "BRIGHT", "CAD_WTCCC", "CAPS1 cases", "CAPS1 controls", "CAPS2 cases", "CAPS2 controls", "CHS", "CoLaus", "deCODE*", "DGI cases", "DGI controls", "EGCUT", "EPIC-Obesity Study", "Fenland", "FRAM", "FTC", "FUSION cases", "FUSION controls", "GENMETS cases", "GENMETS controls", "GerMiFSI", "GerMiFSII", "KORA3", "KORA4", "MICROS", "Migen cases", "Migen controls", "NBS_WTCCC*", "NFBC-1966", "NHS", "NSPHS*", "NTRNESDA cases", "NTRNESDA controls", "ORCADES*", "PLCO", "RS-I", "RUNMC", "SASBAC cases", "SASBAC controls", "SEARCH/UKOPS", "SHIP", "T2D_WTCCC", "VIS", "AE", "ASCOT", "BLSA", "BHS", "COROGENE", "DESIR", "DNBC ", "EGCUT_370", "EGCUT_OMNI ", "ERF", "FamHS", "FinGesture cases", "GOOD", "Health ABC", "HBCS", "HERITAGE Family Study", "InCHIANTI", "IPM (Mount Sinai BioMe) AA controls", "IPM (Mount Sinai BioMe) EA controls", "IPM (Mount Sinai BioMe) HA controls", "IPM (Mount Sinai BioMe) AA cases", "IPM (Mount Sinai BioMe) EA cases", "IPM (Mount Sinai BioMe) HA cases", "LifeLines", "LLS", "LOLIPOP_EW610", "LOLIPOP_EWA", "LOLIPOP_EWP", "MGS", "NELSON", "PLCO2 controls", "PLCO2 cases", "PROCARDIS", "PROSPER/PHASE", "QFS", "QIMR", "RISC", "RSIII", "SHIP-TREND", "Sorbs", "TRAILS", "TWINGENE", "TwinsUK", "WGHS", "YFS", "ADVANCE-CAD controls", "ADVANCE-CAD cases", "AMC-PAS", "ARIC Metabochip", "B1958C", "BHS", "CARDIOGENICS", "CLHNS", "D2D2007 cases", "D2D2007 controls", "DESIR", "DIAGEN cases", "DIAGEN controls", "DILGOM", "DPS cases", "DPS controls", "DR'S EXTRA cases", "DR'S EXTRA controls", "DUNDEE controls", "DUNDEE cases", "EAS", "EGCUT CAD cases", "EGCUT T2D cases", "EGCUT controls", "Ely Study", "EMIL", "EPIC-cohort", "EPIC T2D cases", "Fenland", "FBPP", "FUSION stage 2 cases", "FUSION stage 2 controls", "GLACIER", "GXE", "HNR", "HUNT 2 cases", "HUNT 2 controls", "IMPROVE", "KORA S3", "KORA S4", "Leipzig Adults", "LURIC cases", "LURIC controls", "MEC Metabochip", "METSIM cases", "METSIM controls", "MORGAM controls", "MoRGAM cases", "MRC NSHD", "PIVUS", "PROMIS", "SardiNIA", "SCARFSHEEP", "SPT", "STR", "TANDEM", "THISEAS", "Tromsø  cases", "Tromsø  controls", "ULSAM", "WHI Metabochip", "Whitehall Metabochip", "WTCCC-T2D", "HRS"), 
n_males = c(1352.00, 468.00, 3822.00, 1259.00, 741.00, 719.00, 1489.00, 505.00, 506.00, 1483.00, 519.00, 1281.00, 2547.00, 9213.00, 688.00, 553.00, 697.00, 1131.00, 615.00, 3706.00, NA, 623.00, 572.00, 425.00, 401.00, 394.00, 901.00, 813.00, 884.00, 475.00, 800.00, 846.00, 694.00, 2250.00, NA, 309.00, 527.00, 683.00, 332.00, 2238.00, 2427.00, 1777.00, NA, NA, NA, 2019.00, 1105.00, 328.00, 469.00, 3122.00, 462.00, 558.00, 2266.00, 178.00, NA, 416.00, 517.00, 1218.00, 632.00, 745.00, 938.00, 873.00, 737.00, 244.00, 512.00, 229.00, 334.00, 290.00, 141.00, 138.00, 222.00, 3480.00, 872.00, 678.00, 513.00, 651.00, 1247.00, 2668.00, 645.00, 2040.00, 5331.00, 2524.00, 370.00, 1470.00, 453.00, 877.00, 432.00, 371.00, 539.00, 4349.00, NA, NA, 1123.00, 420.00, 675.00, 368.00, 1224.00, 1234.00, 169.00, 476.00, 919.00, 270.00, 1014.00, 2108.00, 210.00, 450.00, 1797.00, 32.00, 116.00, 60.00, 542.00, 1918.00, 1929.00, 353.00, 367.00, 355.00, 341.00, 744.00, 808.00, 410.00, 432.00, 1486.00, 642.00, 585.00, 1043.00, 2381.00, 140.00, 2250.00, 299.00, 394.00, 1665.00, 604.00, 585.00, 399.00, 1678.00, 330.00, 84.00, 1109.00, 905.00, 2138.00, 1772.00, 464.00, 490.00, 2964.00, 2186.00, 2197.00, 351.00, 838.00, 205.00, 867.00, 352.00, 354.00, 1112.00, NA, 1699.00, 626.00, 3424.00),
age_males = c(49.69, 45.90, 54.69, 45.31, 44.89, 56.29, 59.97, 68.15, 66.36, 66.13, 67.24, 73.00, 52.92, 64.74, 63.42, 58.08, 40.62, 59.82, 44.48, 38.72, NA, 62.06, 63.41, 49.19, 48.91, 57.27, 60.14, 52.96, 54.22, 45.09, 44.53, 46.23, 45.46, 31.00, NA, 47.56, 44.65, 47.17, 54.27, 64.20, 68.13, 63.47, NA, NA, NA, 50.88, 58.95, 55.95, 68.10, 63.52, 71.31, 53.47, 59.66, 52.65, NA, 37.00, 46.40, 49.50, 48.10, 61.19, 18.90, 73.90, 61.41, 36.50, 66.60, 55.90, 58.00, 59.80, 58.60, 67.30, 64.73, 48.10, 60.00, 56.10, 54.40, 55.70, 52.67, 59.90, 63.60, 64.20, 60.40, 75.00, 42.50, 44.71, 43.30, 55.90, 50.13, 48.10, 19.20, 65.68, NA, NA, 37.55, 65.80, 61.50, 43.50, 53.80, 45.00, 69.70, 55.70, 21.50, 63.10, 59.60, 46.10, 63.80, 62.80, 53.30, 56.00, 56.40, 69.10, 66.40, 60.20, 63.20, 64.70, 62.72, 63.50, 54.40, 61.49, 45.70, 59.82, 62.03, 46.87, 43.09, 58.50, 55.60, 50.10, 38.70, 59.70, 67.30, 63.90, 64.00, 40.90, 42.70, 42.94, 63.10, 54.90, 72.50, 60.30, 53.90, 59.40, 58.80, 53.00, 70.13, 52.10, 45.80, 57.00, 48.00, 74.28, 46.99, 58.20, 57.70, 57.90, 71.00, NA, 60.51, 56.30, 68.94),
n_females = c(1867.00, 437.00, 4286.00, 1328.00, 738.00, 1087.00, 387.00, NA, NA, NA, NA, 1957.00, 2862.00, 17586.00, 629.00, 535.00, 720.00, 1284.00, 787.00, 4388.00, 125.00, 469.00, 599.00, 432.00, 423.00, 206.00, 223.00, 831.00, 930.00, 622.00, 474.00, 561.00, 743.00, 2247.00, 2265.00, 347.00, 1200.00, 1106.00, 384.00, NA, 3547.00, 1096.00, 795.00, 764.00, 1710.00, 2073.00, 798.00, 467.00, 217.00, 673.00, 382.00, 769.00, 1490.00, 538.00, 1802.00, 450.00, 839.00, 1508.00, 831.00, 198.00, NA, 782.00, 991.00, 256.00, 627.00, 311.00, 170.00, 406.00, 206.00, 62.00, 358.00, 4641.00, 1049.00, 249.00, NA, NA, 1350.00, NA, 544.00, 933.00, 1947.00, 2720.00, 490.00, 2157.00, 578.00, 1129.00, 554.00, 536.00, 603.00, 4827.00, 3003.00, 22888.00, 1320.00, 243.00, 220.00, 122.00, 2073.00, 902.00, 93.00, 278.00, 828.00, 187.00, 1217.00, 1817.00, 215.00, 587.00, 2139.00, 57.00, 267.00, 61.00, 632.00, 1789.00, 1351.00, 378.00, 342.00, 613.00, 601.00, 855.00, 908.00, 551.00, 291.00, 1698.00, 1139.00, 454.00, 847.00, 3666.00, 473.00, 2242.00, 279.00, 362.00, 1783.00, 674.00, 637.00, 591.00, 573.00, 315.00, 30.00, NA, NA, 335.00, 280.00, 515.00, 488.00, 658.00, 3004.00, 857.00, 553.00, 1378.00, 287.00, 628.00, 357.00, 355.00, NA, 2046.00, 535.00, 448.00, 4740.00),
age_females = c(52.00, 47.50, 53.97, 45.27, 44.89, 57.43, 60.30, NA, NA, NA, NA, 71.90, 53.88, 57.94, 65.20, 58.40, 42.88, 58.74, 45.34, 38.22, 63.78, 63.66, 63.71, 52.36, 48.59, 60.39, 62.80, 52.09, 53.62, 45.38, 49.66, 49.22, 41.44, 31.00, 54.46, 46.47, 41.62, 43.72, 53.01, NA, 70.32, 55.41, 62.64, 62.77, 57.15, 48.58, 57.94, 56.97, 68.20, 64.68, 66.55, 53.72, 62.61, 49.03, 29.31, 37.30, 67.90, 48.30, 47.50, 67.44, NA, 73.64, 61.55, 35.10, 68.30, 58.00, 54.00, 61.73, 64.90, 69.70, 68.82, 44.00, 58.60, 55.70, NA, NA, 48.48, NA, 63.60, 64.00, 62.00, 75.70, 42.90, 43.97, 44.50, 56.20, 50.13, 48.00, 19.10, 64.85, 47.23, 54.69, 37.57, 65.70, 66.20, 42.80, 53.40, 45.00, 70.50, 54.20, 21.50, 63.70, 58.80, 46.20, 67.80, 61.70, 51.70, 54.90, 55.00, 68.30, 66.40, 58.00, 64.00, 64.20, 67.75, 64.50, 50.00, 60.82, 46.20, 58.83, 62.61, 46.90, 44.33, 61.10, 56.70, 49.30, 40.00, 59.62, 70.70, 67.60, 64.40, 40.90, 41.20, 43.53, 66.20, 62.10, 67.80, NA, NA, 57.30, 57.90, 53.00, 70.26, 54.00, 45.30, 60.20, 45.60, 76.07, 49.91, 61.30, 62.10, 62.00, NA, 61.00, 60.60, 56.40, 68.27)
)

### Age
n_male <- sum(locke2015$n_males, na.rm = T)
n_female <- sum(locke2015$n_females, na.rm = T)
age_male <- sum(locke2015$n_males * locke2015$age_males, na.rm = T) / n_male
age_female <- sum(locke2015$n_females * locke2015$age_females, na.rm = T) / n_female

((age_male * n_male) + (age_female * n_female)) / (n_male + n_female)

### Gender
sum(locke2015$n_females, na.rm = T) / (sum(locke2015$n_males, na.rm = T) + sum(locke2015$n_females, na.rm = T))

## Willer 2013

willer2013 <- tibble(
study = c("ADVANCE", "AMC-PAS", "AMISH", "BC58", "D2D 2007 (T2D)", "D2D 2007 (controls)", "deCODE", "DIAGEN (T2D)", "DIAGEN (controls)", "DILGOM", "DPS (T2D)", "DPS (controls)", "DR'S EXTRA (T2D)", "DR'S EXTRA (controls)", "EAS", "EGCUT", "Ely", "EPIC-CAD cases (EPIC-Norfolk CAD set)", "EPIC-T2D cases (EPIC-Norfolk T2D set)", "EPIC-T2D controls (EPIC-Norfolk T2D set)", "Fenland", "FINCAVAS", "FRISCII", "FUSION2 (T2D)", "FUSION2 (controls)", "GLACIER", "Go-DARTs", "HUNT (T2D)", "HUNT (controls)", "IMPROVE", "KORA F3", "KORA F4", "MRC/UVRIGPCad", "LURIC (cases)", "LURIC (controls)", "MDC", "METSIM (T2D)", "METSIM (controls)", "NFBC86", "NSHD", "PIVUS", "SardiNIA", "SCARFSHEEP", "STR", "THISEAS", "TROMSO (T2D)", "TROMSO (controls)", "ULSAM", "WHII", "AGES", "ARIC", "MZGWA-AUS", "BLSA", "B58C-WTCCC", "CHS", "CoLaus", "KORA", "MZGWA-DK", "MZGWA-NLD", "EPIC-N-SUBCOH", "FENLAND", "MZGWA-FIN", "InCHIANTI", "LOLIPOP", "FINRISK", "NFBC66", "PARC", "RS-I", "RS-II", "MZGWA-UK", "SUVIMAX", "MZGWA-SWE", "WGHS", "BRIGHT", "B58C-T1DGC", "DGI", "DGI", "EPIC-N-OBSET", "FHS", "FHS", "FUSION", "FUSION", "GENMETS", "GENMETS", "MedSTAR", "MedSTAR", "PennCATH", "PennCATH", "ERF", "FramHS", "MICROS", "NSPHS", "ORCADES", "SardiNIA", "Vis"), 
n = c(505, 304, 1081, 2136, 287, 1821, 15612, 439, 1093, 3738, 85, 362, 121, 1174, 733, 1240, 1602, 1529, 700, 994, 3186, 1201, 2963, 843, 1880, 5764, 6759, 588, 784, 1769, 2816, 2678, 1687, 983, 523, 2125, 634, 829, 4164, 941, 854, 5378, 2973, 2543, 929, 710, 711, 1113, 3212, 2485.00, 7841.00, 449.00, 713.00, 1459.00, 3121.00, 5253.00, 1405.00, 142.00, 289.00, 2346.00, 1401.00, 137.00, 1134.00, 1599.00, 910.00, 5138.00, 1939.00, 5701.00, 1628.00, 457.00, 1813.00, 297.00, 22041.00, 1615.00, 2534.00, 1528.00, 1508.00, 1078.00, 356.00, 394.00, 772.00, 982.00, 867.00, 892.00, 716.00, 393.00, 892.00, 454.00, 1108.00, 7132.00, 1037.00, 593.00, 633.00, 4184.00, 771.00), 
female = c(40.6, 25.0, 50.0, 57.8, 43.6, 56.3, 62.8, 50.3, 56.7, 58.1, 63.5, 69.6, 50.4, 53.8, 53.0, 53.5, 53.6, 35.1, 40.3, 56.8, 53.3, 44.4, 30.6, 43.3, 44.7, 61.4, 46.1, 49.5, 49.0, 50.0, 52.1, 53.1, 56.7, 26.4, 46.1, 51.3, 0.0, 0.0, 52.0, 52.8, 51.0, 56.8, 0.3, 57.0, 50.7, 50.4, 50.2, 0.0, 23.0, 61.6, 53.0, 100.0, 56.0, 49.9, 60.4, 52.3, 51.0, 100.0, 100.0, 53.2, 56.1, 100.0, 55.6, 12.8, 34.7, 51.9, 30.6, 59.3, 55.0, 100.0, 62.0, 100.0, 100.0, 61.5, 51.3, 49.7, 51.5, 56.9, 54.5, 50.3, 41.2, 49.2, 51.2, 51.2, 28.2, 48.8, 24.3, 51.7, 60.8, 54.0, 56.5, 54.0, 54.5, 56.0, 58.0), 
age = c(65.7, 43.0, 46.7, 45, 62.3, 58.3, 60.9, 66.0, 62.4, 51.6, 55.1, 55.2, 68.7, 66.4, 64.4, 64.2, 61.1, 65.2, 62.2, 59.4, 46.9, 58.5, 66.2, 59.5, 56.2, 54.2, 57.8, 69.3, 66.3, 64.4, 56.3, 54.5, 35.0, 64.9, 57.9, 57.4, 59.7, 53.7, 16.0, 53.0, 70.0, 43.2, 58.3, 75.0, 58.6, 60.0, 60.0, 71.0, 48.9, 76.6, 54.3, 46.8, 68.9, 44.9, 72.4, 53.2, 62.5, 44.2, 33.8, 59.3, 45.0, 60.8, 68.2, 54.4, 59.6, 31, 61.6, 69.5, 64.7, 51.9, 50.1, 71.9, 54.6, 56.4, 45.3, 64.3, 58.8, 59.3, 55.1, 54.9, 62.7, 63.1, 49.9, 49.9, 54.7, 59.7, 56.9, 61.7, 47.1, 44.8, 44.4, 44.8, 51, 43.6, 56.5)
)

### Age
sum(willer2013 $n * willer2013 $age) / sum(willer2013 $n)

### Gender
sum(willer2013 $n * willer2013 $female) / sum(willer2013 $n)

##Lee 2018

lee2018 <- tibble(
cohort = c("ACPRC", "AGES", "ALSPAC", "ASPS", "BASE-II", "CoLaus", "COPSAC2000", "CROATIA-Korčula", "deCODE", "DHS", "DIL", "ERF", "FamHS", "FINRISK", "FTC", "GOYA", "GRAPHIC", "GS", "H2000 Cases", "H2000 Controls", "HBCS", "HCS", "HNRS (CorexB)", "HNRS (Oexpr)", "HNRS (Omni1)", "HRS", "Hypergenes", "INGI-CARL", "INGI-FVG", "KORA S3", "KORA S4", "LBC1921", "LBC1936", "LifeLines", "MCTFR", "MGS", "MoBa", "NBS", "NESDA", "NFBC66", "NTR", "OGP", "OGP-Talana", "ORCADES", "PREVEND", "QIMR", "RS-I", "RS-II", "RS-III", "Rush-MAP", "Rush-ROS", "SardiNIA", "SHIP", "SHIP-TREND", "STR – Salty ", "STR – Twingene", "THISEAS", "TwinsUK", "WTCCC58C", "YFS", "23andMe", "Add Health", "EGCUT", "ELSA", "FENLAND", "Geisinger", "GSII", "NORFOLK", "UKB", "UKHLS", "VIKING", "WLS"),
n = c(1713, 3212, 2877, 777, 1619, 3269, 318, 842, 46758, 953, 2578, 2433, 3483, 1685, 2418, 1459, 727, 8776, 797, 819, 1617, 1946, 1401, 1347, 778, 9963, 815, 947, 943, 2655, 2721, 515, 1003, 12539, 3819, 2313, 622, 1808, 1820, 5297, 5246, 370, 544, 1828, 3578, 8006, 6108, 1667, 3040, 887, 808, 5616, 3556, 901, 4832, 9553, 829, 4012, 2804, 2029, 365538, 5690, 36631, 6065, 8535, 14562, 15941, 19193, 442183, 8094, 1841, 7789), 
age = c(93, 89, 57, 84, 68, 66, 50, 66, 71, 67, 58, 64, 75, 70, 71, 69, 65, 61, 67, 67, 75, 76, 74, 74, 74, 76, 71, 70, 65, 71, 67, 95, 80, 56, 63, 65, 45, 75, 58, 50, 58, 66, 67, 64, 68, 60, 94, 81, 66, 95, 95, 61, 71, 60, 65, 75, 66, 67, 58, 47, 57, 39, 62, 78, 57, 58, 61, 82, 67, 64, 57, 79), 
female = c(0.71, 0.58, 1.00, 0.57, 0.52, 0.53, 0.47, 0.64, 0.57, 0.53, 0.52, 0.55, 0.53, 0.46, 0.56, 0.00, 0.53, 0.59, 0.50, 0.52, 0.57, 0.49, 0.50, 0.50, 0.52, 0.42, 0.46, 0.58, 0.60, 0.51, 0.51, 0.58, 0.49, 0.58, 0.54, 0.50, 1.00, 0.50, 0.64, 0.52, 0.64, 0.00, 0.59, 0.60, 0.48, 0.59, 0.60, 0.52, 0.56, 0.72, 0.66, 0.58, 0.50, 0.57, 0.52, 0.53, 0.33, 1.00, 0.48, 0.55, 0.53, 0.53, 0.68, 0.53, 0.53, 0.71, 0.60, 0.53, 0.54, 0.56, 0.59, 0.52))

### Age
sum(lee2018 $n * lee2018 $age) / sum(lee2018 $n)

### Gender
sum(lee2018 $n * lee2018 $female) / sum(lee2018 $n)

## Canela-Zandri
273405 / (273405 + 229139)

## Neale
194174 / 361194

## Grasby 2020 
grasby2020 <- readxl::read_xlsx("/Users/shea/GitCode/MR_ADPhenome/docs/supplements/aay6690_Grasby_Tables_S1_to_S20.xlsx", sheet = 3, skip = 2, n_max = 58) %>% 
  rename(Study_Design = `Study Design`, N = `Total N`, Age =`Mean Age`)

grasby2020 %>% filter(Ancestry == 'European') %>% 
  summarise(N = sum(N), Females = sum(Females) / sum(N))

sum(grasby2020 $N * grasby2020 $Age) / sum(grasby2020 $N)



















